server:
  port: 8087

spring:
  application:
    name: petlog

  # 프로파일 설정 (기본적으로 dev 활성화, 배포 시 prod로 오버라이드)
  profiles:
    active: dev

  config:
    import: "optional:file:.env[.properties]"

  # [중요] Spring AI 설정 (공통)
  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
      chat:
        options:
          model: gpt-4o

  # 파일 업로드 제한 (User Service와 동일하게 맞춤)
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  # MongoDB 설정 (공통)
  data:
    mongodb:
      uri: "${MONGO_URI}"

  # MSA Feign Client 설정 (공통)
  cloud:
    openfeign:
      client:
        config:
          default:
            connectTimeout: 5000
            readTimeout: 5000

# === 외부 서비스 URL 설정 (공통) ===
openapi:
  service:
    url: ${API_GATEWAY}

external:
  user-service:
    url: ${USER_SERVICE_URL}
  pet-service:
    url: ${PET_SERVICE_URL}
  notification-service:
    url: ${NOTIFICATION_SERVICE_URL:http://localhost:8083}
  storage-service:
    url: ${STORAGE_SERVICE_URL:http://localhost:8084}

  # 기상청 API
  weather:
    api-key: ${WEATHER_API_KEY}
    asos-api-key: ${ASOS_API_KEY}

# Kakao API
kakao:
  rest-api-key: ${KAKAO_REST_API_KEY}